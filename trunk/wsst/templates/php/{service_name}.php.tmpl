<?php

/* vim: set expandtab tabstop=4 shiftwidth=4 softtabstop=4: */

/**
 * This file contains the class "<%[$package_name]%>"
 *
 * PHP versions 4 and 5
<%[ if ($php_license_abstract) {
    $OUT .= " *\n";
    $php_license_abstract =~ s/^\s+//;
    $php_license_abstract =~ s/\s+$//;
    $php_license_abstract =~ s/\n/\n * /g;
    $OUT .= " * LICENSE: $php_license_abstract\n";
} ]%> *
 * @category   Services
 * @package    <%[$package_name]%>
<%[ foreach (@author) {
    $OUT .= " * \@author     $_\n";
} ]%><%[ if ($php_copyright||$copyright) {
    local $copyright = ($php_copyright||$copyright);
    $OUT .= " * \@copyright  $copyright\n";
} ]%> * @license    <%[$php_license_uri]%> <%[$license]%>
 * @version    Release: @package_version@
 * @link       <%[$php_link]%>
 */

require_once 'PEAR.php';

require_once '<%[$package_dir]%>/Factory.php';
require_once '<%[$package_dir]%>/Request.php';
require_once '<%[$package_dir]%>/Response.php';

/**
 * User interface class for accessing Web Service "<%[$title]%>"
 *
 * @category   Services
 * @package    <%[$package_name]%>
<%[ foreach (@author) {
    $OUT .= " * \@author     $_\n";
} ]%><%[ if ($php_copyright||$copyright) {
    local $copyright = ($php_copyright||$copyright);
    $OUT .= " * \@copyright  $copyright\n";
} ]%> * @license    <%[$php_license_uri]%> <%[$license]%>
 * @version    Release: @package_version@
 * @link       <%[$php_link]%>
 */
class Services_<%[$company_name]%>_<%[$service_name]%>
{
    /**
     * Factory object
     * 
     * @access private
     * @var object
     */
    var $_fac = null;

    /**
     * Common parameters
     * 
     * @access private
     * @var array
     */
    var $_params;

    /**
     * Constructor
     *
     * @access public
     * @param array $params common parameters
     * @param object $fac Factory object
     */
    function <%[$package_name]%>($params = array(), $fac = null)
    {
        if (is_null($fac)) {
            $fac =& new <%[$package_name]%>_Factory();
        }
        $this->_fac =& $fac;
        $this->_params = $params;
    }
    
    /**
     * Get factory object
     * 
     * @access public
     * @return object Factory object
     */
    function &getFactory()
    {
        return $this->_fac;
    }

    /**
     * Set factory object
     * 
     * @access public
     * @param object $fac Factory object
     * @return void
     */
    function setFactory(&$fac)
    {
        $this->_fac =& $fac;
    }
    
    /**
     * Get common parameters
     * 
     * @access public
     * @return array common parameters
     */
    function getCommonParams()
    {
        return $this->_params;
    }
    
    /**
     * Set common parameters
     * 
     * @access public
     * @param array $params common parameters
     * @return void
     */
    function setCommonParams($params)
    {
        $this->_params = $params;
    }
    
    /**
     * Add common parameters
     * 
     * @access public
     * @param array $params common parameters
     * @return void
     */
    function addCommonParams($params)
    {
        $this->_params = array_merge($this->_params, $params);
    }

<%[ foreach my $method (@methods) {
    $OUT .= include('inc_webservice_method.tmpl', method=>$method);
    $OUT .= "\n";
} ]%>
}

?>
